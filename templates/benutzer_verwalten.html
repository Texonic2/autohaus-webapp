{% extends "base.html" %}
{% block title %}Benutzerverwaltung – Admin{% endblock %}

{% block content %}
<h2>Benutzerverwaltung</h2>
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Vorname</th>
      <th>Nachname</th>
      <th>E-Mail</th>
      <th>Rolle</th>
      <th>Aktionen</th>
    </tr>
  </thead>
  <tbody>
    {% for user in benutzerliste %}
    <form method="post">
      <tr>
        <td>{{ user.User_ID }}
          <input type="hidden" name="user_id" value="{{ user.User_ID }}">
        </td>
        <td><input type="text" name="vorname" value="{{ user.vorname }}" required></td>
        <td><input type="text" name="nachname" value="{{ user.nachname }}" required></td>
        <td><input type="email" name="email" value="{{ user.email }}" required></td>
        <td>
          <select name="rolle">
            <option value="customer" {% if user.role == 'customer' %}selected{% endif %}>Kunde</option>
            <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
          </select>
        </td>
        <td style="display: flex; gap: 8px;">
          <button type="submit" name="aktion" value="bearbeiten">Speichern</button>
          <button type="submit" name="aktion" value="loeschen" onclick="return confirm('Wirklich löschen?')">Löschen</button>
        </td>
      </tr>
    </form>
    {% endfor %}
  </tbody>
</table>
{% endblock %}